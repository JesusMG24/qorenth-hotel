<section class="w-screen p-5">
  <div class="bg-[#efe5d8] p-5 flex flex-col gap-5 items-center">
    <h2 class="font-bold text-2xl">RESIDENCIAS</h2>
    <p class="text-lg text-center">
      Relájate en un espacioso apartamento de lujo con cocina completa. Los
      espacios de estar separados ofrecen más espacio para relajarte con
      amenidades premium e increíbles vistas al centro histórico de Mérida.
    </p>
    <button
      class="text-white bg-black w-full py-3 hover:bg-yellow-600 hover:text-black"
      >EXPLORA NUESTRAS RESIDENCIAS</button
    >
  </div>
  <div class="relative overflow-hidden h-75">
    <img
      id="residenceImage1"
      src="/images/residences1.jpg"
      class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-100"
    />
    <img
      id="residenceImage2"
      src="/images/residences2.jpg"
      class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out opacity-0"
    />

    <!-- Navigation arrows -->
    <button
      id="residencePrevBtn"
      class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white bg-black/70 bg-opacity-50 hover:bg-opacity-75 py-2 px-4 rounded-full"
    >
      &#8249;
    </button>
    <button
      id="residenceNextBtn"
      class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white bg-black/70 bg-opacity-50 hover:bg-opacity-75 py-2 px-4 rounded-full"
    >
      &#8250;
    </button>

    <!-- Counter -->
    <div class="absolute right-0 bottom-0 text-white bg-black px-7 py-4">
      <p><span id="residenceSliderCount">1</span>/2</p>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const image1 = document.getElementById("residenceImage1");
    const image2 = document.getElementById("residenceImage2");
    const prevBtn = document.getElementById("residencePrevBtn");
    const nextBtn = document.getElementById("residenceNextBtn");
    const sliderCount = document.getElementById("residenceSliderCount");

    let currentSlide = 0;
    const totalSlides = 2;
    const images = [image1, image2];

    function updateCarousel() {
      images.forEach((img, index) => {
        if (index === currentSlide) {
          img?.classList.remove("opacity-0");
          img?.classList.add("opacity-100");
        } else {
          img?.classList.remove("opacity-100");
          img?.classList.add("opacity-0");
        }
      });
      if (sliderCount) {
        sliderCount.textContent = (currentSlide + 1).toString();
      }
    }

    nextBtn?.addEventListener("click", () => {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateCarousel();
    });

    prevBtn?.addEventListener("click", () => {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateCarousel();
    });
  });
</script>
